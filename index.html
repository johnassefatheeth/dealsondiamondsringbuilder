<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <link rel="icon" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta name="description" content="Stone Algo Ring Builder" />
    <link rel="apple-touch-icon" href="/logo192.png" />
    <!-- <link rel="manifest" href="/manifest.json" /> -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cactus+Classical+Serif&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond&family=Golos+Text&family=Inter&family=Titillium+Web&display=swap" rel="stylesheet">
    <title>Deals On Diamonds custom ring Builder</title>
    <script defer="defer" src="./static/js/main.a39aada3.js"></script> 
    <link href="./static/css/main.597613b6.css" rel="stylesheet">
    <style>
        
    </style>
</head>

<body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
    <div id="wana">
        <button class="close-btn">✕</button>
            <form id="contactForm">
            <h2>Submit contact info for request</h2>
                <input type="text" placeholder="Name" required>
                <input type="email" placeholder="Email" required>
                <input type="tel" placeholder="Phone (optional)">
                <button type="submit" id="submitBtn">Submit</button>
            </form>
    </div>
    <div id="succ">
        <button class="close-btn">✕</button>
        <img width="350px" src="https://i.pinimg.com/564x/b8/cc/30/b8cc30277d4134cebca1105ac86be61c.jpg" alt="success image">
            <h1>request sent successfuly<br> we dealers will contact you soon</h1>
    </div>
    <a href="https://dealsondiamonds.com/"><img id="back-img"  src="https://icon-library.com/images/back-button-icon/back-button-icon-11.jpg" alt=""></a>
    <img src="https://cdn3.iconfinder.com/data/icons/social-messaging-ui-color-line/254002/174-512.png" id="share-pic" alt="share">
    <button id="invs" onclick="showSavedDesignsPopup()"><img id="save-image" src="https://images.all-free-download.com/images/graphiclarge/green_globe_save_603.jpg" alt=""></button>
</body>
<script>
    function showSavedDesignsPopup() {
  // Get saved designs from localStorage
  const savedDesigns = JSON.parse(localStorage.getItem('savedRingDesigns')) || {};
  
  // Create popup container
  const popup = document.createElement('div');
  popup.style.cssText = `
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 350px; /* Slightly wider to accommodate delete button */
    max-height: 70vh;
    overflow-y: auto;
    background: white;
    border-radius: 10px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.2);
    padding: 20px;
    z-index: 1000;
    animation: fadeIn 0.3s;
  `;
  
  // Add light green header
  const header = document.createElement('div');
  header.style.cssText = `
    padding: 10px;
    background: #e8f5e9;
    border-radius: 5px;
    margin-bottom: 15px;
    color: #2e7d32;
    font-weight: bold;
    display: flex;
    justify-content: space-between;
    align-items: center;
  `;
  header.innerHTML = `
    <span>Your Saved Rings</span>
  `;
  popup.appendChild(header);
  
  // Add designs or empty message
  if (Object.keys(savedDesigns).length === 0) {
    const emptyMsg = document.createElement('p');
    emptyMsg.textContent = 'No saved designs yet';
    emptyMsg.style.textAlign = 'center';
    popup.appendChild(emptyMsg);
  } else {
    for (const [name, url] of Object.entries(savedDesigns)) {
      const designItem = document.createElement('div');
      designItem.style.cssText = `
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 10px;
        margin: 8px 0;
        background: #f1f8e9;
        border-radius: 5px;
        border-left: 4px solid #81c784;
        transition: all 0.2s;
      `;
      
      // Create clickable content area
      const contentArea = document.createElement('div');
      contentArea.style.cssText = `
        flex: 1;
        cursor: pointer;
      `;
      contentArea.innerHTML = `
        <div style="font-weight: bold; color: #2e7d32">${name}</div>
        <div style="font-size: 12px; color: #666; word-break: break-all;">${url}</div>
      `;
      
      // Open URL when clicked
      contentArea.addEventListener('click', () => {
        window.open(url, '_blank');
      });
      
      // Create delete button
      const deleteBtn = document.createElement('button');
      deleteBtn.innerHTML = '&times;';
      deleteBtn.style.cssText = `
        background: #ff6b6b;
        color: white;
        border: none;
        border-radius: 50%;
        width: 25px;
        height: 25px;
        margin-left: 10px;
        cursor: pointer;
        font-size: 14px;
        display: flex;
        align-items: center;
        justify-content: center;
      `;
      
      // Delete functionality
      deleteBtn.addEventListener('click', (e) => {
        e.stopPropagation(); // Prevent triggering the content click
        
        // Remove from saved designs
        delete savedDesigns[name];
        localStorage.setItem('savedRingDesigns', JSON.stringify(savedDesigns));
        
        // Refresh the popup
        document.body.removeChild(popup);
        document.body.removeChild(overlay);
        showSavedDesignsPopup();
      });
      
      // Hover effect
      designItem.addEventListener('mouseenter', () => {
        designItem.style.background = '#dcedc8';
      });
      designItem.addEventListener('mouseleave', () => {
        designItem.style.background = '#f1f8e9';
      });
      
      // Append elements
      designItem.appendChild(contentArea);
      designItem.appendChild(deleteBtn);
      popup.appendChild(designItem);
    }
  }
  
  // Add close button
  const closeButton = document.createElement('button');
  closeButton.textContent = 'Close';
  closeButton.style.cssText = `
    display: block;
    margin: 15px auto 0;
    padding: 8px 20px;
    background: #81c784;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
  `;
  closeButton.addEventListener('click', () => {
    document.body.removeChild(popup);
    document.body.removeChild(overlay);
  });
  popup.appendChild(closeButton);
  
  // Create overlay
  const overlay = document.createElement('div');
  overlay.style.cssText = `
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0,0,0,0.5);
    z-index: 999;
  `;
  
  // Close when clicking outside
  overlay.addEventListener('click', () => {
    document.body.removeChild(popup);
    document.body.removeChild(overlay);
  });
  
  // Add to DOM
  document.body.appendChild(overlay);
  document.body.appendChild(popup);
  
  // Add fade-in animation
  const style = document.createElement('style');
  style.textContent = `
    @keyframes fadeIn {
      from { opacity: 0; transform: translate(-50%, -45%); }
      to { opacity: 1; transform: translate(-50%, -50%); }
    }
  `;
  document.head.appendChild(style);
}

        // document.querySelector('#wana').style.display = 'block';
    document.querySelector('.close-btn').addEventListener('click', () => {
        document.querySelector('#wana').style.display = 'none';
        document.querySelector('#succ').style.display = 'none';
        });
        
    document.getElementById('succ').addEventListener('click', () => {
        document.querySelector('#succ').style.display = 'none';
        document.querySelector('#wana').style.display = 'none';
    });

    document.getElementById('contactForm').addEventListener('submit', function(e) {
        e.preventDefault();
        
        // Show loading state
        const submitBtn = document.getElementById('submitBtn');
        submitBtn.disabled = true;
        submitBtn.classList.add('loading');
        submitBtn.textContent = ''; // Clear text while loading
        
        // Simulate form submission (replace with actual form submission)
        setTimeout(() => {
            // Hide loading state
            submitBtn.disabled = false;
            submitBtn.classList.remove('loading');
            submitBtn.textContent = 'Submit';
            
            // Show success message
            document.querySelector('#wana').style.display = 'none';
            document.querySelector('#succ').style.display = 'block';
            
            // Reset form
            this.reset();
        }, 1500); // Simulate network delay
    });


 </script>

</html>